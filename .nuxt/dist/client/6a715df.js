(window.webpackJsonp=window.webpackJsonp||[]).push([[23,17],{451:function(e,t,r){var content=r(458);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(22).default)("3643dbec",content,!0,{sourceMap:!1})},457:function(e,t,r){"use strict";r(451)},458:function(e,t,r){var o=r(21)(!1);o.push([e.i,"label[data-v-2d4bf648]{display:inline-block;margin-bottom:.5rem;font-weight:600}.p-field[data-v-2d4bf648]{margin-bottom:.7rem;margin-top:.7rem}",""]),e.exports=o},460:function(e,t,r){"use strict";r.r(t);var o={props:["label","id","childclass"]},l=(r(457),r(6)),component=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{class:"p-field col-12 "+e.childclass},[t("label",{attrs:{for:e.id}},[e._v(e._s(e.label))]),e._v(" "),t("div",[e._t("default")],2)])}),[],!1,null,"2d4bf648",null);t.default=component.exports},476:function(e,t,r){var content=r(491);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(22).default)("92a9cd02",content,!0,{sourceMap:!1})},490:function(e,t,r){"use strict";r(476)},491:function(e,t,r){var o=r(21)(!1);o.push([e.i,"",""]),e.exports=o},510:function(e,t,r){"use strict";r.r(t);var o=r(3),l=(r(40),r(469)),n=r.n(l),c=r(454),d=r.n(c),f=r(482),m=r.n(f),h=r(527),v=r.n(h),x=r(453),_=r.n(x),y=r(506),C=r.n(y),k={components:{Dropdown:n.a,InputText:d.a,Button:_.a,MultiSelect:m.a,ToggleButton:v.a,Panel:C.a},props:{form:{type:Object,default:function(){return{status:"publish",title:"",content:"",secteurs:[],categoriesPro:[],type_emploi:[],horaire:[],international:!1,dateUpdated:new Date,dateCreated:new Date}}},use:{type:String,default:"add"}},data:function(){return{saving:!1,statusChoises:[{label:"Publié",value:"publish"},{label:"Brouillon",value:"draft"}]}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e.$store.getters["filters/secteurs"].length){t.next=3;break}return t.next=3,e.$store.dispatch("filters/filters");case 3:case"end":return t.stop()}}),t)})))()},computed:{secteursChoises:function(){return this.$jobFilters.secteursChoises()},categoriesProChoises:function(){return this.$jobFilters.categoriesProChoises()},type_emploiChoises:function(){return this.$jobFilters.type_emploiChoises()},horaireChoises:function(){return this.$jobFilters.horaireChoises()}},methods:{submit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var form,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.saving=!0,form={token:e.$store.getters["auth/get_token"],businessID:e.$store.state.auth.current_user.id,title:e.form.title,status:e.form.status,content:e.form.content,secteurs:e.form.secteurs,categoriesPro:e.form.categoriesPro,type_emploi:e.form.type_emploi,horaire:e.form.horaire,international:e.form.international,dateCreated:e.form.dateCreated,dateUpdated:new Date},r={},"add"!==e.use){t.next=9;break}return t.next=6,e.$axios.post("/jobs/create",form);case 6:r=t.sent,t.next=14;break;case 9:if("edit"!==e.use){t.next=14;break}return form.id=e.$route.params.id,t.next=13,e.$axios.post("/jobs/edit",form);case 13:r=t.sent;case 14:if(e.saving=!1,!r.data.success){t.next=21;break}return e.$toast.add({severity:"success",summary:"Succès!",detail:"Sauvegarde effectué",life:3e3}),t.next=19,e.$router.push("/gestion/emplois/"+r.data.job.id);case 19:t.next=22;break;case 21:e.$toast.add({severity:"error",summary:"Erreur!",detail:r.data.error,life:15e3});case 22:case"end":return t.stop()}}),t)})))()}}},$=(r(490),r(6)),component=Object($.a)(k,(function(){var e=this,t=e._self._c;return t("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("Panel",{staticStyle:{"margin-bottom":"2rem"},attrs:{header:"Information"}},[t("div",{staticClass:"p-fluid grid formgrid"},[t("FieldWrapper",{attrs:{id:"title",label:"Titre de l'emploi *",childclass:"md:col-4"}},[t("InputText",{attrs:{required:"",type:"text"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),t("FieldWrapper",{attrs:{id:"status",label:"Statut *",childclass:"md:col-4"}},[t("Dropdown",{attrs:{required:"",id:"status",options:e.statusChoises,optionLabel:"label",optionValue:"value",placeholder:"Choix"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),e._v(" "),t("FieldWrapper",{attrs:{id:"secteurs",label:"Secteurs *",childclass:"md:col-4"}},[t("MultiSelect",{attrs:{required:"",options:e.secteursChoises,optionLabel:"label",optionValue:"value",placeholder:"Choix",display:"chip"},model:{value:e.form.secteurs,callback:function(t){e.$set(e.form,"secteurs",t)},expression:"form.secteurs"}})],1),e._v(" "),t("FieldWrapper",{attrs:{id:"categoriesPro",label:"Catégories Professionnels *",childclass:"md:col-4"}},[t("MultiSelect",{attrs:{required:"",options:e.categoriesProChoises,optionLabel:"label",optionValue:"value",placeholder:"Choix",display:"chip"},model:{value:e.form.categoriesPro,callback:function(t){e.$set(e.form,"categoriesPro",t)},expression:"form.categoriesPro"}})],1),e._v(" "),t("FieldWrapper",{attrs:{id:"type_emploi",label:"Spécifications *",childclass:"md:col-4"}},[t("MultiSelect",{attrs:{required:"",options:e.type_emploiChoises,optionLabel:"label",optionValue:"value",placeholder:"Choix",display:"chip"},model:{value:e.form.type_emploi,callback:function(t){e.$set(e.form,"type_emploi",t)},expression:"form.type_emploi"}})],1),e._v(" "),t("FieldWrapper",{attrs:{id:"horaire",label:"Horaire *",childclass:"md:col-4"}},[t("MultiSelect",{attrs:{required:"",options:e.horaireChoises,optionLabel:"label",optionValue:"value",placeholder:"Choix",display:"chip"},model:{value:e.form.horaire,callback:function(t){e.$set(e.form,"horaire",t)},expression:"form.horaire"}})],1),e._v(" "),t("FieldWrapper",{attrs:{id:"postes_dispo",label:"Nombre de poste disponible *",childclass:"md:col-4"}},[t("InputText",{attrs:{required:"",type:"text"},model:{value:e.form.postes_dispo,callback:function(t){e.$set(e.form,"postes_dispo",t)},expression:"form.postes_dispo"}})],1)],1)]),e._v(" "),t("FieldWrapper",{attrs:{id:"international",label:"Candidatures internationnale"}},[t("ToggleButton",{attrs:{onLabel:"J'accepte les candidatures internationale",offLabel:"Je refuse les candidatures internationale",onIcon:"pi pi-check",offIcon:"pi pi-times"},model:{value:e.form.international,callback:function(t){e.$set(e.form,"international",t)},expression:"form.international"}})],1),e._v(" "),t("FieldWrapper",{attrs:{id:"content",label:"Contenu"}},[t("client-only",[t("quill-editor",{ref:"editor",model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),e._v(" "),t("div",[t("Button",{attrs:{disabled:e.saving,type:"submit"}},[e._v(e._s("add"===e.use?"Ajouter":"Mettre à jour"))])],1)],1)}),[],!1,null,"56a7e672",null);t.default=component.exports;installComponents(component,{FieldWrapper:r(460).default})}}]);