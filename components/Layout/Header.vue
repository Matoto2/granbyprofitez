<template>
	<header id="header">
		<div class="container">
			<div class="logo">
				<NuxtLink :to="{ name: 'index' }">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 263.482 117.94">
						<g transform="translate(-36 -35.741)">
							<path
								d="M527.593,66.32s-5.85-12.694-5.85-23.1c0-4.132,2.621-7.481,5.85-7.481s5.842,3.349,5.842,7.481c0,10.4-5.842,23.1-5.842,23.1"
								transform="translate(-252.181 0)" fill="#006db8" />
							<path
								d="M505.28,91.51s-5.995-15.584-18.138-23.735c-5.351-3.583-3.5-9.978.645-11.245,5.263-1.606,8.763,1.489,11.026,5.262,5.694,9.489,6.466,29.718,6.466,29.718"
								transform="translate(-232.506 -10.567)" fill="#69a630" />
							<path
								d="M539.395,91.51s5.99-15.584,18.135-23.735c5.349-3.583,3.5-9.978-.645-11.245-5.264-1.606-8.763,1.489-11.026,5.262-5.692,9.489-6.464,29.718-6.464,29.718"
								transform="translate(-261.345 -10.567)" fill="#eda008" />
							<path
								d="M167.687,150.005v-19.9c.04-4.08,6.825-7.932,11.565-7.944a16.543,16.543,0,0,1,4.512.689v-8.1a12.371,12.371,0,0,0-2.048-.175c-6.188,0-10.759,2.438-13.778,7.312l-.251.4v-6.911H156.2v34.634Z"
								transform="translate(-62.405 -40.926)" fill="#1a1818" />
							<path
								d="M167.687,150.005v-19.9c.04-4.08,6.825-7.932,11.565-7.944a16.543,16.543,0,0,1,4.512.689v-8.1a12.371,12.371,0,0,0-2.048-.175c-6.188,0-10.759,2.438-13.778,7.312l-.251.4v-6.911H156.2v34.634Z"
								transform="translate(-62.405 -40.926)" fill="#1a1818" />
							<path
								d="M332.9,127.786V150h11.492V125.475a10.069,10.069,0,0,0-3.326-7.978c-2.228-1.94-5.259-2.927-9.131-2.927a17.866,17.866,0,0,0-14.741,7.325l-.242.3V115.37H305.472V150h11.483V130.7c.038-4.391,7.078-8.961,10.9-8.984,3.339.006,5.042,2.09,5.046,6.073"
								transform="translate(-139.901 -40.925)" fill="#1a1818" />
							<path
								d="M420.4,129.324a13.7,13.7,0,0,1-9.218-3.852l-.044-.034V113.7c.038-4.021,6.6-7.644,10.135-7.658,2.894,0,5.107.908,6.562,2.729s2.186,4.533,2.186,8.122c0,3.748-.862,6.759-2.612,9.024a8.369,8.369,0,0,1-7,3.41Zm-9.047,1.537a18.606,18.606,0,0,0,12.379,4.295c5.635,0,10.12-1.731,13.485-5.191s5.046-8.07,5.046-13.872q0-8.037-4.474-12.592c-2.977-3.04-7.053-4.57-12.269-4.57-6.451,0-11.145,2.438-14.143,7.312l-.24.4v-22.2h-11.49v49.919h4.823c3.863.011,6.692-3.476,6.692-3.48l.083-.107Z"
								transform="translate(-188.792 -25.285)" fill="#1a1818" />
							<path
								d="M420.4,129.324a13.7,13.7,0,0,1-9.218-3.852l-.044-.034V113.7c.038-4.021,6.6-7.644,10.135-7.658,2.894,0,5.107.908,6.562,2.729s2.186,4.533,2.186,8.122c0,3.748-.862,6.759-2.612,9.024a8.369,8.369,0,0,1-7,3.41Zm-9.047,1.537a18.606,18.606,0,0,0,12.379,4.295c5.635,0,10.12-1.731,13.485-5.191s5.046-8.07,5.046-13.872q0-8.037-4.474-12.592c-2.977-3.04-7.053-4.57-12.269-4.57-6.451,0-11.145,2.438-14.143,7.312l-.24.4v-22.2h-11.49v49.919h4.823c3.863.011,6.692-3.476,6.692-3.48l.083-.107Z"
								transform="translate(-188.792 -25.285)" fill="#1a1818" />
							<path
								d="M503.745,163.227l26.785-47.219A21.479,21.479,0,0,0,528,115.86c-2.994,0-7.6.639-9.519,4.219-.971,1.8-10.592,19.219-10.592,19.219l-.125.225L495.88,116.039H483.555l17.82,33.84L493.9,163.227Z"
								transform="translate(-232.355 -41.595)" fill="#1a1818" />
							<path
								d="M503.745,163.227l26.785-47.219A21.479,21.479,0,0,0,528,115.86c-2.994,0-7.6.639-9.519,4.219-.971,1.8-10.592,19.219-10.592,19.219l-.125.225L495.88,116.039H483.555l17.82,33.84L493.9,163.227Z"
								transform="translate(-232.355 -41.595)" fill="#1a1818" />
							<path
								d="M44.117,94.9C38.706,99.137,36,105.167,36,113.038q.006,11.9,8.117,18.25t23.28,6.368A95.55,95.55,0,0,0,86.32,135.4V108.086H62.977v7.969H74.354V130.85l-.107.021a29.939,29.939,0,0,1-4.946.476q-9.6,0-15.089-4.84-5.493-4.867-5.491-13.377c0-5.857,1.7-10.4,5.121-13.6s8.268-4.8,14.5-4.8q7.044,0,17.935,2.969V90.324a101.414,101.414,0,0,0-19-1.785q-15.073,0-23.165,6.362"
								transform="translate(0 -27.411)" fill="#1a1818" />
							<path
								d="M223.767,142.891a4.152,4.152,0,0,1-1.7-3.359c.011-3.934,3.934-5.848,11.533-5.855h2.9v5.569c-.054,3.052-5.794,4.967-8.579,5a6.419,6.419,0,0,1-4.153-1.351m12.751,2.959h0l.039-.008c1.345,2.973,4.828,4.514,9.623,4.52a28.407,28.407,0,0,0,6.451-.856l-.267-5.025a11.612,11.612,0,0,1-1.418.111c-2.272-.011-3.43-1.466-3.433-4.236V125.138c0-7.185-5.6-11.391-16.981-11.4-5.155,0-10.337.549-13.8,1.775V122.3a34.893,34.893,0,0,1,11.892-2.418c5.178,0,7.871,1.858,7.871,5.569v3.086h-3.268q-10.732,0-16.467,3.107c-3.821,2.075-5.7,5-5.707,8.806a8.637,8.637,0,0,0,3.523,7.143,14.461,14.461,0,0,0,9.209,2.764,20.63,20.63,0,0,0,12.728-4.512"
								transform="translate(-90.884 -40.492)" fill="#1a1818" />
							<path
								d="M223.767,142.891a4.152,4.152,0,0,1-1.7-3.359c.011-3.934,3.934-5.848,11.533-5.855h2.9v5.569c-.054,3.052-5.794,4.967-8.579,5a6.419,6.419,0,0,1-4.153-1.351m12.751,2.959h0l.039-.008c1.345,2.973,4.828,4.514,9.623,4.52a28.407,28.407,0,0,0,6.451-.856l-.267-5.025a11.612,11.612,0,0,1-1.418.111c-2.272-.011-3.43-1.466-3.433-4.236V125.138c0-7.185-5.6-11.391-16.981-11.4-5.155,0-10.337.549-13.8,1.775V122.3a34.893,34.893,0,0,1,11.892-2.418c5.178,0,7.871,1.858,7.871,5.569v3.086h-3.268q-10.732,0-16.467,3.107c-3.821,2.075-5.7,5-5.707,8.806a8.637,8.637,0,0,0,3.523,7.143,14.461,14.461,0,0,0,9.209,2.764,20.63,20.63,0,0,0,12.728-4.512"
								transform="translate(-90.884 -40.492)" fill="#1a1818" />
							<path
								d="M119.781,239.727a4.891,4.891,0,0,0,1.021-3.353,3.557,3.557,0,0,0-1.33-3.134,7.313,7.313,0,0,0-4.138-.931h-3.245v8.566h3.827q2.847,0,3.864-1.148m4.174-10.024q2.681,2.28,2.681,7t-2.754,6.909q-2.753,2.189-8.4,2.188h-3.391v7.107H106.4v-25.48h9.005q5.869,0,8.548,2.278"
								transform="translate(-36.55 -99.516)" fill="#006db8" />
							<path
								d="M119.781,239.727a4.891,4.891,0,0,0,1.021-3.353,3.557,3.557,0,0,0-1.33-3.134,7.313,7.313,0,0,0-4.138-.931h-3.245v8.566h3.827q2.847,0,3.864-1.148m4.174-10.024q2.681,2.28,2.681,7t-2.754,6.909q-2.753,2.189-8.4,2.188h-3.391v7.107H106.4v-25.48h9.005q5.869,0,8.548,2.278"
								transform="translate(-36.55 -99.516)" fill="#006db8" />
							<path
								d="M171.544,238.905A3.851,3.851,0,0,0,172.6,235.9a3.221,3.221,0,0,0-1.094-2.825,6.985,6.985,0,0,0-3.827-.766h-4.265v7.546h4.157q2.912,0,3.973-.948m6.852-3.025q0,6.123-4.848,7.911L180,252.9h-7l-5.65-8.13h-3.938v8.13h-5.688V227.422h9.661q5.941,0,8.477,2.007t2.533,6.451"
								transform="translate(-63.196 -99.514)" fill="#006db8" />
							<path
								d="M171.544,238.905A3.851,3.851,0,0,0,172.6,235.9a3.221,3.221,0,0,0-1.094-2.825,6.985,6.985,0,0,0-3.827-.766h-4.265v7.546h4.157q2.912,0,3.973-.948m6.852-3.025q0,6.123-4.848,7.911L180,252.9h-7l-5.65-8.13h-3.938v8.13h-5.688V227.422h9.661q5.941,0,8.477,2.007t2.533,6.451"
								transform="translate(-63.196 -99.514)" fill="#006db8" />
							<path
								d="M230.243,239.389a8.339,8.339,0,0,0-2.186-5.815,7.213,7.213,0,0,0-10.754,0,8.795,8.795,0,0,0,0,11.611,7.246,7.246,0,0,0,10.754,0,8.274,8.274,0,0,0,2.186-5.8m1.933,9.369a13.883,13.883,0,0,1-19.029,0,13.332,13.332,0,0,1,0-18.774,13.882,13.882,0,0,1,19.029,0,13.338,13.338,0,0,1,0,18.774"
								transform="translate(-89.962 -98.885)" fill="#006db8" />
							<path
								d="M230.243,239.389a8.339,8.339,0,0,0-2.186-5.815,7.213,7.213,0,0,0-10.754,0,8.795,8.795,0,0,0,0,11.611,7.246,7.246,0,0,0,10.754,0,8.274,8.274,0,0,0,2.186-5.8m1.933,9.369a13.883,13.883,0,0,1-19.029,0,13.332,13.332,0,0,1,0-18.774,13.882,13.882,0,0,1,19.029,0,13.338,13.338,0,0,1,0,18.774"
								transform="translate(-89.962 -98.885)" fill="#006db8" />
							<path d="M292.435,227.424v4.994H280.624v5.5H291.85v4.994H280.624V252.9h-5.687v-25.48Z"
								transform="translate(-124.048 -99.516)" fill="#006db8" />
							<path d="M292.435,227.424v4.994H280.624v5.5H291.85v4.994H280.624V252.9h-5.687v-25.48Z"
								transform="translate(-124.048 -99.516)" fill="#006db8" />
							<rect width="5.687" height="25.48" transform="translate(173.197 127.91)" fill="#006db8" />
							<rect width="5.687" height="25.48" transform="translate(173.197 127.91)" fill="#006db8" />
							<path d="M354.708,232.344v20.561h-5.687V232.344H341.8v-4.921h20.123v4.921Z"
								transform="translate(-158.762 -99.515)" fill="#006db8" />
							<path d="M354.708,232.344v20.561h-5.687V232.344H341.8v-4.921h20.123v4.921Z"
								transform="translate(-158.762 -99.515)" fill="#006db8" />
							<path
								d="M410.666,227.424v5.067H397.98v5.249h11.41v4.848H397.98v5.286h13.089v5.03H392.293v-25.48Z"
								transform="translate(-184.975 -99.516)" fill="#006db8" />
							<path
								d="M410.666,227.424v5.067H397.98v5.249h11.41v4.848H397.98v5.286h13.089v5.03H392.293v-25.48Z"
								transform="translate(-184.975 -99.516)" fill="#006db8" />
							<path
								d="M438.844,252.906v-3.9l13.342-16.661H439.28v-4.919h20.67v3.936l-13.306,16.586h13.525v4.959Z"
								transform="translate(-209.143 -99.516)" fill="#006db8" />
							<path
								d="M438.844,252.906v-3.9l13.342-16.661H439.28v-4.919h20.67v3.936l-13.306,16.586h13.525v4.959Z"
								transform="translate(-209.143 -99.516)" fill="#006db8" />
							<path
								d="M496.936,252.268a3.257,3.257,0,1,1,2.278.929,3.1,3.1,0,0,1-2.278-.929m-.929-24.843h6.451v4.52l-1.092,13.124h-4.3l-1.056-13.124Z"
								transform="translate(-238.82 -99.516)" fill="#006db8" />
							<path
								d="M496.936,252.268a3.257,3.257,0,1,1,2.278.929,3.1,3.1,0,0,1-2.278-.929m-.929-24.843h6.451v4.52l-1.092,13.124h-4.3l-1.056-13.124Z"
								transform="translate(-238.82 -99.516)" fill="#006db8" />
						</g>
					</svg>
				</NuxtLink>
			</div>
			<div class="header-right">
				<nav class="top-menu">
					<ul>
						<li>
							<NuxtLink :to="{ name: 'offres-emploi' }" class="btn btn-emplois">Offres d'emploi</NuxtLink>
						</li>
						<li v-if="!is_loggedin">
							<NuxtLink to="/connexion">Employeur <svg style="margin-left: .5rem"
									xmlns="http://www.w3.org/2000/svg" width="15.345" height="17.538"
									viewBox="0 0 15.345 17.538">
									<path
										d="M7.673,2.192a2.739,2.739,0,0,1,2.74,2.74V6.577H4.932V4.932A2.739,2.739,0,0,1,7.673,2.192ZM2.74,4.932V6.577H0V17.538H15.345V6.577h-2.74V4.932a4.932,4.932,0,1,0-9.865,0Zm6.029,6.029v3.288H6.577V9.865H8.769Z" />
								</svg></NuxtLink>
						</li>
						<li v-if="is_loggedin && is_admin">
							<NuxtLink to="/admin/tableau-de-bord">Tableau de bord</NuxtLink>
						</li>
						<li v-if="is_loggedin && is_business">
							<NuxtLink to="/gestion/tableau-de-bord">Tableau de bord</NuxtLink>
						</li>
						<li v-if="is_loggedin">
							<LogoutBtn></LogoutBtn>
						</li>
					</ul>
				</nav>
				<nav class="menu-principal">
					<ul class="menu-ul">
						<li>
							<NuxtLink :to="{ name: 'travailler' }">Travailler</NuxtLink>
						</li>
						<li>
							<NuxtLink :to="{ name: 'etudier' }">Étudier</NuxtLink>
						</li>
						<li>
							<NuxtLink :to="{ name: 'vivre' }">Vivre</NuxtLink>
						</li>
						<li>
							<NuxtLink :to="{ name: 'immigrer' }">Immigrer</NuxtLink>
						</li>
						<li>
							<NuxtLink :to="{ name: 'sinstaller' }">S'installer</NuxtLink>
						</li>
					</ul>
					<span class="separator"></span>
					<ul class="sociaux">
						<li><a href="https://www.facebook.com/granby.profitez" target="_blank"><svg
									xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
									<path
										d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z" />
								</svg></a></li>
						<li><a href="https://www.instagram.com/granby_profitez/?hl=fr-ca" target="_blank"><svg
									xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
									<path
										d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z" />
								</svg></a></li>
						<li><a href="https://www.youtube.com/user/GranbyProfitez/videos" target="_blank"><svg
									xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
									<path
										d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z" />
								</svg></a></li>
					</ul>
				</nav>
			</div>
			<div @click="showMenu" class="box-hamb">
				<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none"
					stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
					class="lucide lucide-menu">
					<line x1="4" x2="20" y1="12" y2="12" />
					<line x1="4" x2="20" y1="6" y2="6" />
					<line x1="4" x2="20" y1="18" y2="18" />
				</svg>
			</div>
		</div>
	</header>
</template>
<script>

export default {

	computed: {
		is_loggedin() {
			return this.$store.state.auth.access_token
		},
		is_admin() {
			return this.$store.state.auth.current_user.role === 'admin'
		},
		is_business() {
			return this.$store.state.auth.current_user.role === 'business'
		}
	},
	methods: {
		showMenu() {
			document.querySelector(".header-right").classList.toggle('menu-opened')
		}
	},
	mounted() {
		const links = document.querySelector('header').querySelectorAll("a")

		links.forEach(link => {
			link.addEventListener('click', () => document.querySelector(".header-right").classList.remove('menu-opened'))
		})

	}

}
</script>
<style scoped>
.logo {
	svg {
		width: 150px;
		aspect-ratio: 263.482/117.94;

		@media (min-width: 1381px) {
			width: 263.482px;
		}
	}

	padding-top: 10px;
	padding-bottom: 10px;
}

.container {
	display: flex;
	justify-content: space-between;
}

.box-hamb {
	display: grid;
	place-content: center;

	@media (min-width: 1381px) {
		display: none;
	}
}

nav>ul {
	display: flex;
	align-items: center;
	justify-content: flex-end;
	list-style: none;
	padding-left: 0;
	margin: 0;
}

a {
	text-decoration: none;
	color: #626262;
}

.sociaux {
	display: flex;
	padding-left: 1.5rem;
}

.sociaux a {
	border-radius: 50%;
	width: 35px;
	height: 35px;
	margin-left: .5rem;
	background-color: #363636;
	display: flex;
	align-items: center;
	justify-content: center;
}

.sociaux svg {
	height: 20px;
	fill: #fff;
}

.menu-principal {
	display: flex;
	align-items: center;
}

.menu-principal a {
	font-size: 1.4rem;
	font-weight: 500;
}

.menu-ul {
	padding-right: 1rem;
}

.menu-ul a {
	padding: 1rem 1.3rem;
}

.separator {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='13.838' height='39.351' viewBox='0 0 13.838 39.351'%3E%3Cpath d='M1151.557,2026.829H1143.7l5.984-39.351h7.854l-3.3,21.683Z' transform='translate(-1143.703 -1987.478)' fill='%23eda008'/%3E%3C/svg%3E%0A");
	background-size: contain;
	background-repeat: no-repeat;
	display: block;
	width: 13px;
	height: 36px;
}

.top-menu {
	margin-bottom: 2rem
}

.top-menu a {
	font-weight: 500;
	text-transform: uppercase;
}

.btn-emplois {
	border-top-left-radius: 0;
	border-top-right-radius: 0;
	padding: .8rem 1.5rem;
	margin-right: 2rem;
}

header {
	position: fixed;
	width: 100%;
	background-color: white;
	z-index: 100;
	box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.30);
	-webkit-box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.30);
	-moz-box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.30);
}

.header-right {
	position: fixed;
	padding-top: 35px;
	top: 80px;
	left: -100%;
	transition-duration: 300ms;
	transition-property: all;
	min-height: calc(100dvh - 80px);
	z-index: 100;
	width: 100vw;
	background-color: white;
	margin-bottom: 2rem;

	display: flex;
	flex-direction: column-reverse;
	align-items: start;
	justify-content: space-between;

	&.menu-opened {
		left: 0px;
	}

	.menu-principal,
	.menu-ul {
		flex-direction: column;
		align-items: start;
		gap: 20px;
	}

	&>* {
		width: 100%;
	}

	@media (min-width: 1381px) {
		position: relative;
		left: unset;
		top: unset;
		right: unset;
		padding: 0;
		min-height: fit-content;
		min-width: fit-content;
		display: block;

		.menu-principal,
		.menu-ul {
			flex-direction: row;
			align-items: center;
			justify-content: end;
			gap: 20px;
		}
	}

	.top-menu ul {
		flex-direction: column-reverse;
		padding-top: 20px;
		gap: 20px;

		li,
		a {
			width: 100%;
			border-radius: 0;
			text-align: start;
		}

		a {
			padding-left: 23px;
		}

		@media (min-width: 1381px) {
			flex-direction: row;
			padding-top: 0;
			gap: 0;

			li,
			a {
				width: fit-content;
			}

			a {
				border-radius: 0px 0px 6px 6px;
			}
		}
	}


	.separator,
	.sociaux {
		display: none;

		@media (min-width: 1381px) {
			display: flex;
			padding: 0;

		}
	}

	&.menu-open {}
}
</style>
